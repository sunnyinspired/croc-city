{"ast":null,"code":"import _defineProperty from \"/Users/nenisoft/Web_Projects/croc-city/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/nenisoft/Web_Projects/croc-city/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/nenisoft/Web_Projects/croc-city/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/nenisoft/Web_Projects/croc-city/frontend/src/admin/pages/addAdmin.js\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { Form, FormLabel, FormGroup } from \"react-bootstrap\";\nimport SideBar from \"../components/sidebar\";\nimport axios from \"axios\"; //import Booking from \"../components/bookingtab\";\n\nvar todayDate = new Date().toISOString().slice(0, 10);\n\nvar AddAdmin = function AddAdmin() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      staffEmail = _useState2[0],\n      setStaffEmail = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      staff = _useState4[0],\n      setStaff = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      response = _useState6[0],\n      setResponse = _useState6[1]; //const [photo, setPhoto] = useState(null)\n\n\n  var _useState7 = useState({\n    staff_id: '',\n    username: '',\n    email: '',\n    password: ''\n  }),\n      _useState8 = _slicedToArray(_useState7, 2),\n      values = _useState8[0],\n      setValues = _useState8[1];\n\n  var findEmail = function findEmail(e) {\n    if (e.target.value !== \"\") {\n      var query = staff.find(function (staff) {\n        return staff.staff_id == e.target.value;\n      });\n      setStaffEmail(query);\n    } else {\n      setStaffEmail([]);\n    }\n  };\n\n  useEffect(function () {\n    axios.get(\"/api/get-staff\").then(function (res) {\n      setStaff(res.data);\n    });\n  }, []);\n\n  var setInfo = function setInfo(e) {\n    var x = e.target.value;\n\n    if (e.target.files && e.target.files[0]) {\n      x = e.target.files[0];\n    }\n\n    setValues(_objectSpread({}, values, _defineProperty({}, e.target.name, x)));\n  };\n\n  var addUser = function addUser(e) {\n    e.preventDefault();\n    axios.post(\"/api/add-admin\", values).then(function (res) {\n      setResponse(res.data);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row flex-nowrap\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SideBar, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col py-5 col-md-7 admin-content\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"text-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, \"ADD ADMIN ACCOUNT\"), /*#__PURE__*/React.createElement(Form, {\n    method: \"POST\",\n    onSubmit: addUser,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-item row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(FormLabel, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 37\n    }\n  }, \"Select Staff: \"), /*#__PURE__*/React.createElement(Form.Select, {\n    name: \"staff_id\",\n    required: true,\n    onChange: function onChange(e) {\n      findEmail(e);\n      setInfo(e);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 41\n    }\n  }), staff.map(function (staff) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"option\", {\n      value: staff.staff_id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 49\n      }\n    }, staff.staff_name));\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FormLabel, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 33\n    }\n  }, \"Email:\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"email\",\n    name: \"email\",\n    required: true,\n    placeholder: \"Enter email\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"b\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 33\n    }\n  }, staffEmail))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-item\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"submit\",\n    name: \"addStaff\",\n    id: \"btn-book\",\n    value: \"Save\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: response.class_name,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 32\n    }\n  }, \" \", response.server_message)))))));\n};\n\nexport default AddAdmin;","map":{"version":3,"names":["React","useEffect","useState","Form","FormLabel","FormGroup","SideBar","axios","todayDate","Date","toISOString","slice","AddAdmin","staffEmail","setStaffEmail","staff","setStaff","response","setResponse","staff_id","username","email","password","values","setValues","findEmail","e","target","value","query","find","get","then","res","data","setInfo","x","files","name","addUser","preventDefault","post","map","staff_name","class_name","server_message"],"sources":["/Users/nenisoft/Web_Projects/croc-city/frontend/src/admin/pages/addAdmin.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {Form, FormLabel, FormGroup, } from \"react-bootstrap\";\nimport SideBar from \"../components/sidebar\";\nimport axios from \"axios\";\n//import Booking from \"../components/bookingtab\";\nvar todayDate = new Date().toISOString().slice(0, 10);\n\nconst AddAdmin = () =>{\n    const [staffEmail, setStaffEmail] = useState([])\n    const [staff, setStaff] = useState([])\n    const [response, setResponse] = useState([])\n    //const [photo, setPhoto] = useState(null)\n    const [values, setValues] = useState({\n        staff_id:'',\n        username: '',\n        email: '',\n        password:''\n    })\n\n    const findEmail = (e)=>{\n        if(e.target.value !== \"\")\n        {\n            const query = staff.find(staff => staff.staff_id == e.target.value);\n            setStaffEmail(query);\n        }\n        else{\n            setStaffEmail([]);\n        }\n    }\nuseEffect(() =>{\n    axios.get(\"/api/get-staff\").then((res) =>{\n            setStaff(res.data)\n        });\n}, []);\n\n\nconst setInfo = (e) =>{\n    let x = e.target.value;\n    if(e.target.files && e.target.files[0]){\n        x = e.target.files[0];\n    }\n   \n        \n    setValues({...values, [e.target.name]:x});\n}\n\n\n\n\nconst addUser = (e) =>{\n    e.preventDefault();\n    axios.post(\"/api/add-admin\", values).then((res) =>{\n        setResponse(res.data)\n    })\n}\nreturn(\n    <>\n    \n    <div className=\"container-fluid\">\n        <div className=\"row flex-nowrap\">\n            <SideBar />\n            <div className=\"col py-5 col-md-7 admin-content\">\n            <h3 className=\"text-center\">ADD ADMIN ACCOUNT</h3>\n            \n            <Form method=\"POST\" onSubmit={addUser}>\n        \n                        <div className=\"form-item row\">\n                            <div className=\"col\">\n                                <FormGroup>\n                                    <FormLabel>Select Staff: </FormLabel>\n                                    <Form.Select  name=\"staff_id\" required onChange={e => {findEmail(e); setInfo(e)}}>\n                                        <option></option>\n                                        {\n                                            staff.map(staff =>\n                                                <>\n                                                <option value={staff.staff_id}>{staff.staff_name}</option>\n                                                </>\n                                                )\n                                        }\n                                    </Form.Select>\n                                </FormGroup>\n                            </div>\n                            <div className=\"col\">\n                                <FormLabel>Email:</FormLabel>\n    \n                                <Form.Control type=\"email\" name=\"email\" required placeholder=\"Enter email\" />\n                                <b>{staffEmail}</b>\n                                \n                            </div>\n                        </div>    \n\n                        \n                       \n                        \n                        <div className=\"form-item\">\n                            <FormGroup>\n                            <Form.Control type=\"submit\"  name=\"addStaff\" id=\"btn-book\" value=\"Save\" />\n                            </FormGroup>\n                        </div>\n                        <div className={response.class_name}>\n                               <h3> {response.server_message}</h3>\n                        </div>\n                    </Form>\n        </div>\n        </div>\n        </div> \n    </>\n)\n}\n\nexport default AddAdmin;"],"mappings":"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"},"metadata":{},"sourceType":"module"}